@tailwind base;
@tailwind components;
@tailwind utilities;

/* ═══════════════════════════════════════════════════
   DELINA.ESQ 2.0 — Y2K RETROFUTURE + TACTILE MAX
   "wealthy chaos, not corporate clean"
   ═══════════════════════════════════════════════════ */

@layer base {
  :root {
    --hot-pink: #00FF41;
    --electric: #00F5FF;
    --slime: #39FF14;
    --cyber-violet: #BF5AF2;
    --chrome: #C0C0C0;
    --void: #0A0A0A;
  }

  html {
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    @apply bg-void-950 text-void-200 font-body;
    overflow-x: hidden;
  }

  ::selection {
    background: rgba(0, 255, 65, 0.4);
    color: #fff;
  }

  ::-webkit-scrollbar { width: 6px; }
  ::-webkit-scrollbar-track { background: #0A0A0A; }
  ::-webkit-scrollbar-thumb { background: #333; border-radius: 999px; }
  ::-webkit-scrollbar-thumb:hover { background: var(--hot-pink); }
}

@layer components {

  /* ── GRAIN OVERLAY ── */
  .grain-overlay {
    position: fixed;
    inset: 0;
    z-index: 9999;
    pointer-events: none;
    opacity: 0.035;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
    background-size: 200px 200px;
    animation: grain 0.5s steps(10) infinite;
  }

  /* ── SCANLINE OVERLAY ── */
  .scanline-overlay {
    position: fixed;
    inset: 0;
    z-index: 9998;
    pointer-events: none;
    background: repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(255, 255, 255, 0.008) 2px,
      rgba(255, 255, 255, 0.008) 4px
    );
  }

  /* ── GLASS CARD — frosted, grainy ── */
  .glass-card {
    @apply relative overflow-hidden;
    background: rgba(255, 255, 255, 0.04);
    border: 1px solid rgba(255, 255, 255, 0.06);
    border-radius: 12px;
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
  }

  .glass-card::before {
    content: '';
    @apply absolute inset-0 opacity-0 transition-opacity duration-500 pointer-events-none;
    border-radius: inherit;
    background: linear-gradient(
      135deg,
      rgba(0, 255, 65, 0.06) 0%,
      rgba(0, 245, 255, 0.04) 50%,
      rgba(191, 90, 242, 0.06) 100%
    );
  }
  .glass-card:hover::before {
    @apply opacity-100;
  }

  /* glass card inner grain */
  .glass-card::after {
    content: '';
    @apply absolute inset-0 pointer-events-none;
    border-radius: inherit;
    opacity: 0.02;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
    background-size: 128px 128px;
  }

  /* ── BEVELED BUTTON — Y2K chunky ── */
  .btn-bevel {
    @apply relative inline-flex items-center justify-center gap-2 font-pixel text-xs tracking-wider uppercase;
    padding: 14px 28px;
    border: 2px solid currentColor;
    border-radius: 4px;
    box-shadow: 3px 3px 0px currentColor, inset 1px 1px 0px rgba(255,255,255,0.12);
    transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1),
                box-shadow 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
  }
  .btn-bevel:hover {
    transform: translate(-1px, -1px);
    box-shadow: 5px 5px 0px currentColor, inset 1px 1px 0px rgba(255,255,255,0.2);
  }
  .btn-bevel:active {
    transform: translate(2px, 2px);
    box-shadow: 1px 1px 0px currentColor, inset 1px 1px 0px rgba(255,255,255,0.05);
  }

  .btn-bevel-pink {
    @apply text-hot-pink border-hot-pink;
    box-shadow: 3px 3px 0px #00FF41, inset 1px 1px 0px rgba(255,255,255,0.12);
  }
  .btn-bevel-pink:hover {
    box-shadow: 5px 5px 0px #00FF41, 0 0 20px rgba(0,255,65,0.3), inset 1px 1px 0px rgba(255,255,255,0.2);
  }

  .btn-bevel-cyan {
    @apply text-electric border-electric;
    box-shadow: 3px 3px 0px #00F5FF, inset 1px 1px 0px rgba(255,255,255,0.12);
  }
  .btn-bevel-cyan:hover {
    box-shadow: 5px 5px 0px #00F5FF, 0 0 20px rgba(0,245,255,0.3), inset 1px 1px 0px rgba(255,255,255,0.2);
  }

  .btn-bevel-white {
    @apply text-void-200 border-void-400;
    box-shadow: 3px 3px 0px #555, inset 1px 1px 0px rgba(255,255,255,0.1);
  }
  .btn-bevel-white:hover {
    @apply text-white border-white;
    box-shadow: 4px 4px 0px #fff, inset 1px 1px 0px rgba(255,255,255,0.2);
  }

  /* ── STICKER / BADGE — lo-fi Y2K ── */
  .sticker {
    @apply inline-flex items-center font-pixel text-[10px] tracking-widest uppercase;
    padding: 6px 14px;
    border: 1.5px solid;
    border-radius: 4px;
    transform: rotate(var(--sticker-rotate, -2deg));
    box-shadow: 2px 2px 0px rgba(0,0,0,0.5);
  }

  /* ── SECTION CONTAINER ── */
  .section-container {
    @apply max-w-7xl mx-auto px-6 md:px-8 lg:px-12;
  }

  .section-spacing {
    @apply py-24 md:py-32 lg:py-40;
  }

  /* ── TAG LABEL — retro mono ── */
  .tag-label {
    @apply inline-block font-pixel text-[10px] tracking-[0.25em] uppercase px-4 py-2 rounded-retro border;
    color: var(--hot-pink);
    border-color: rgba(0, 255, 65, 0.4);
    background: rgba(0, 255, 65, 0.08);
    box-shadow: 2px 2px 0px rgba(0, 255, 65, 0.3);
  }

  /* ── GRADIENT TEXT — hyper-saturated ── */
  .gradient-text {
    @apply bg-clip-text text-transparent;
    background-image: linear-gradient(135deg, #00FF41 0%, #BF5AF2 40%, #00F5FF 100%);
  }

  /* ── NEON UNDERLINE ── */
  .neon-underline {
    @apply relative;
  }
  .neon-underline::after {
    content: '';
    @apply absolute bottom-0 left-0 w-0 h-[2px] pointer-events-none;
    transition: width 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    background: linear-gradient(90deg, #00FF41, #00F5FF);
    box-shadow: 0 0 8px #00FF41, 0 0 16px rgba(0, 255, 65, 0.3);
  }
  .neon-underline:hover::after {
    @apply w-full;
  }

  /* ── DOT GRID PATTERN ── */
  .dot-pattern {
    background-image: radial-gradient(circle, rgba(255, 255, 255, 0.025) 1px, transparent 1px);
    background-size: 28px 28px;
  }

  /* ── EDITORIAL DIVIDER — imperfect line ── */
  .editorial-divider {
    @apply relative;
    height: 2px;
    background: linear-gradient(
      90deg,
      transparent 0%,
      var(--hot-pink) 15%,
      var(--cyber-violet) 50%,
      var(--electric) 85%,
      transparent 100%
    );
    opacity: 0.5;
  }
}

/* ═══════════════════════════════════════════════════
   ACCESSIBILITY OVERRIDES
   Applied via classes on <html> by AccessibilityToolbar
   ═══════════════════════════════════════════════════ */

/* Text Size */
html.a11y-text-large {
  font-size: 120% !important;
}
html.a11y-text-xlarge {
  font-size: 140% !important;
}

/* Grayscale */
html.a11y-grayscale {
  filter: grayscale(100%) !important;
}
html.a11y-grayscale .fixed[style*="z-index"],
html.a11y-grayscale [class*="z-[9997]"] {
  filter: grayscale(0%) !important;
}

/* High Contrast */
html.a11y-high-contrast {
  filter: contrast(1.5) !important;
}
html.a11y-high-contrast .fixed[style*="z-index"],
html.a11y-high-contrast [class*="z-[9997]"] {
  filter: contrast(1) !important;
}

/* Negative Contrast (Invert) */
html.a11y-negative-contrast {
  filter: invert(1) hue-rotate(180deg) !important;
}
html.a11y-negative-contrast img,
html.a11y-negative-contrast video,
html.a11y-negative-contrast canvas {
  filter: invert(1) hue-rotate(180deg) !important;
}
html.a11y-negative-contrast .fixed[style*="z-index"],
html.a11y-negative-contrast [class*="z-[9997]"] {
  filter: invert(0) !important;
}

/* Light Background */
html.a11y-light-bg body {
  background-color: #F5F5F0 !important;
  color: #1a1a1a !important;
}
html.a11y-light-bg .glass-card,
html.a11y-light-bg [class*="bg-void"] {
  background-color: rgba(255, 255, 255, 0.9) !important;
  color: #1a1a1a !important;
}
html.a11y-light-bg [class*="text-void-"] {
  color: #333 !important;
}
html.a11y-light-bg [class*="text-cream"],
html.a11y-light-bg [class*="text-white"] {
  color: #111 !important;
}
html.a11y-light-bg [class*="border-void-"] {
  border-color: #ccc !important;
}

/* Underline Links */
html.a11y-underline-links a {
  text-decoration: underline !important;
  text-underline-offset: 3px !important;
}

/* Readable Font */
html.a11y-readable-font * {
  font-family: Arial, Helvetica, sans-serif !important;
  letter-spacing: 0.03em !important;
}

@layer utilities {
  @media (prefers-reduced-motion: reduce) {
    *, *::before, *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
}
